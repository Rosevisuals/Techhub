<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Checkout - Gadget E-commerce</title>
        <link rel="stylesheet" href="../assets/css/main.css">
        <link rel="stylesheet" href="../assets/css/product.css">
        <link rel="stylesheet" href="../assets/css/responsive.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Raleway:wght@700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.6.1/nouislider.min.css" />
        <!-- AOS Animation Library -->
        <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
    </head>
<body>
    <header class="main-header">
        <div class="header-container">
            <div class="logo">
                <h1><a href="../index.html"><span class="tech">Tech</span><span class="hub">Hub</span></a></h1>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="product.html" class="active">Products</a></li>
                    <li><a href="#featured">Featured</a></li>
                    <li><a href="#about">About</a></li>
                </ul>
            </nav>
            <div class="nav-icons">
                <a href="checkout.html" class="cart-icon"><i class="fas fa-shopping-cart"></i><span class="cart-count">0</span></a>
                <a href="#" class="search-icon"><i class="fas fa-search"></i></a>
                <a href="#" class="account-icon"><i class="fas fa-user"></i></a>
                <div class="menu-toggle">
                    <i class="fas fa-bars"></i>
                </div>
            </div>
        </div>
    </header>
    <main>
        <div class="checkout-container">
            <section class="checkout-summary" data-aos="fade-right" data-aos-delay="100" data-aos-duration="800">
                <h2>Order Summary</h2>
                <div id="cart-summary">
                    <!-- Cart items will be dynamically loaded here -->
                    <div class="summary-loading">Loading your items...</div>
                </div>
                <div class="order-totals">
                    <div class="subtotal">
                        <span>Subtotal:</span>
                        <span id="subtotal-amount">$0.00</span>
                    </div>
                    <div class="shipping">
                        <span>Shipping:</span>
                        <span id="shipping-amount">$0.00</span>
                    </div>
                    <div class="tax">
                        <span>Tax:</span>
                        <span id="tax-amount">$0.00</span>
                    </div>
                    <div class="total">
                        <span>Total:</span>
                        <span id="total-amount">$0.00</span>
                    </div>
                </div>
            </section>
    
            <section class="checkout-form" data-aos="fade-left" data-aos-delay="300" data-aos-duration="800">
                <h2 data-aos="fade-down" data-aos-delay="400">Shipping Information</h2>
                <form id="checkoutForm">
                    <div class="form-group" data-aos="fade-up" data-aos-delay="500">
                        <label for="name">Full Name:</label>
                        <input type="text" id="name" name="name" required>
                    </div>
    
                    <div class="form-group" data-aos="fade-up" data-aos-delay="600">
                        <label for="email">Email:</label>
                        <input type="email" id="email" name="email" required>
                    </div>
    
                    <div class="form-group" data-aos="fade-up" data-aos-delay="700">
                        <label for="phone">Phone Number:</label>
                        <input type="tel" id="phone" name="phone" required>
                    </div>
    
                    <div class="form-group" data-aos="fade-up" data-aos-delay="800">
                        <label for="address">Address:</label>
                        <input type="text" id="address" name="address" required>
                    </div>
    
                    <div class="form-row">
                        <div class="form-group" data-aos="fade-up" data-aos-delay="900">
                            <label for="city">City:</label>
                            <input type="text" id="city" name="city" required>
                        </div>
    
                        <div class="form-group" data-aos="fade-up" data-aos-delay="950">
                            <label for="zip">Zip Code:</label>
                            <input type="text" id="zip" name="zip" required>
                        </div>
                    </div>
    
                    <div class="form-group" data-aos="fade-up" data-aos-delay="1000">
                        <label for="country">Country:</label>
                        <select id="country" name="country" required>
                            <option value="">Select Country</option>
                            <option value="us">United States</option>
                            <option value="ca">Canada</option>
                            <option value="uk">United Kingdom</option>
                            <option value="au">Australia</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
    
                    <h2 data-aos="fade-down" data-aos-delay="1100">Payment Details</h2>
                    
                    <div class="payment-options" data-aos="zoom-in" data-aos-delay="1150">
                        <div class="payment-option">
                            <input type="radio" id="credit-card" name="payment" value="credit-card" checked>
                            <label for="credit-card">
                                <span class="payment-icon">üí≥</span>
                                Credit Card
                            </label>
                        </div>
                        <div class="payment-option">
                            <input type="radio" id="paypal" name="payment" value="paypal">
                            <label for="paypal">
                                <span class="payment-icon">üÖøÔ∏è</span>
                                PayPal
                            </label>
                        </div>
                    </div>
    
                    <div id="credit-card-details" data-aos="fade-up" data-aos-delay="1200">
                        <div class="form-group">
                            <label for="card-number">Card Number:</label>
                            <input type="text" id="card-number" name="card-number" placeholder="XXXX XXXX XXXX XXXX">
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="expiry">Expiry Date:</label>
                                <input type="text" id="expiry" name="expiry" placeholder="MM/YY">
                            </div>
                            
                            <div class="form-group">
                                <label for="cvv">CVV:</label>
                                <input type="text" id="cvv" name="cvv" placeholder="123">
                            </div>
                        </div>
                    </div>
    
                    <button type="submit" data-aos="flip-up" data-aos-delay="1300" class="checkout-btn">
                        Complete Purchase
                    </button>
                </form>
            </section>
        </div>
    </main>
    <section class="newsletter">
        <div class="newsletter-container" data-aos="fade-up">
            <h2>Stay Updated</h2>
            <p>Subscribe to our newsletter for the latest product updates and exclusive offers.</p>
            <form class="newsletter-form">
                <input type="email" placeholder="Enter your email" required>
                <button type="submit" class="btn primary-btn">Subscribe</button>
            </form>
        </div>
    </section>

    <footer class="main-footer">
        <div class="footer-container">
            <div class="footer-column">
                <h3>TechHub</h3>
                <p>Your destination for premium gadgets and cutting-edge technology.</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
            <div class="footer-column">
                <h4>Shop</h4>
                <ul>
                    <li><a href="pages/category.html?cat=smartphones">Smartphones</a></li>
                    <li><a href="pages/category.html?cat=tablets">Tablets</a></li>
                    <li><a href="pages/category.html?cat=audio">Audio</a></li>
                    <li><a href="pages/category.html?cat=laptops">Laptops</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>Information</h4>
                <ul>
                    <li><a href="#">About Us</a></li>
                    <li><a href="#">Contact Us</a></li>
                    <li><a href="#">Privacy Policy</a></li>
                    <li><a href="#">Terms & Conditions</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>Contact</h4>
                <ul class="contact-info">
                    <li><i class="fas fa-map-marker-alt"></i> 123 Tech Street, City, Country</li>
                    <li><i class="fas fa-phone"></i> +123 456 7890</li>
                    <li><i class="fas fa-envelope"></i> info@techhub.com</li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 TechHub. All rights reserved.</p>
        </div>
    </footer>
    <script src="../assets/js/main.js"></script>
    <script src="../assets/js/product.js"></script>

    <script>
        // Initialize AOS animations
        document.addEventListener('DOMContentLoaded', function() {
            AOS.init({
                duration: 800,
                easing: 'ease-in-out',
                once: true,
                mirror: false
            });
            
            // Load cart summary data
            loadCartSummary();
            
            // Handle payment method toggle
            const paymentOptions = document.querySelectorAll('input[name="payment"]');
            const creditCardDetails = document.getElementById('credit-card-details');
            
            paymentOptions.forEach(option => {
                option.addEventListener('change', function() {
                    if (this.value === 'credit-card') {
                        creditCardDetails.style.display = 'block';
                        // Trigger AOS animation again for credit card details
                        setTimeout(() => {
                            AOS.refresh();
                        }, 100);
                    } else {
                        creditCardDetails.style.display = 'none';
                    }
                });
            });
            
            // Form submission
            document.getElementById('checkoutForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Show processing animation
                const submitBtn = this.querySelector('button[type="submit"]');
                submitBtn.innerHTML = '<span class="processing-spinner"></span> Processing...';
                submitBtn.disabled = true;
                
                // Simulate processing
                setTimeout(() => {
                    // Replace with actual order processing logic
                    window.location.href = 'order-confirmation.html';
                }, 2000);
            });
        });
        
        function loadCartSummary() {
    // Get cart data from localStorage
    const cart = JSON.parse(localStorage.getItem('cart')) || [];
    const cartSummary = document.getElementById('cart-summary');
    const cartCountElement = document.querySelector('.cart-count');
    
    // Update cart count in header
    if (cartCountElement) {
        const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
        cartCountElement.textContent = totalItems;
        cartCountElement.classList.toggle('has-items', totalItems > 0);
    }
    
    if (cart.length === 0) {
        cartSummary.innerHTML = '<div class="empty-cart" data-aos="fade-in">' +
            '<i class="fas fa-shopping-cart" style="font-size: 3rem; color: #ddd; margin-bottom: 1rem;"></i>' +
            '<p>Your cart is empty.</p>' +
            '<a href="product.html">Continue shopping</a></div>';
        updateTotals(0, 0, 0, 0);
        return;
    }
    
    let subtotal = 0;
    let html = '<ul class="cart-summary-items">';
    
    cart.forEach((item, index) => {
        const itemTotal = item.price * item.quantity;
        subtotal += itemTotal;
        
        html += `
            <li class="summary-item" data-aos="fade-up" data-aos-delay="${100 + (index * 50)}">
                <div class="item-image">
                    <img src="${item.image}" alt="${item.name}">
                </div>
                <div class="item-details">
                    <h4>${item.name}</h4>
                    <div class="item-meta">
                        ${item.color ? `<span>Color: ${item.color}</span>` : ''}
                        ${item.storage ? `<span>Storage: ${item.storage}</span>` : ''}
                    </div>
                    <div class="item-price">
                        <div class="item-quantity">
                            <button type="button" class="decrease-qty" data-index="${index}">-</button>
                            <input type="number" min="1" max="99" value="${item.quantity}" data-index="${index}">
                            <button type="button" class="increase-qty" data-index="${index}">+</button>
                        </div>
                        <div>
                            <span>$${item.price.toFixed(2)} √ó ${item.quantity}</span>
                            <strong>$${itemTotal.toFixed(2)}</strong>
                        </div>
                    </div>
                </div>
                <button type="button" class="remove-item" data-index="${index}" title="Remove item">
                    <i class="fas fa-times"></i>
                </button>
            </li>
        `;
    });
    
    html += '</ul>';
    cartSummary.innerHTML = html;
    
    // Calculate shipping, tax, and total
    const shipping = subtotal > 100 ? 0 : 10;
    const tax = subtotal * 0.07; // Assume 7% tax rate
    const total = subtotal + shipping + tax;
    
    updateTotals(subtotal, shipping, tax, total);
    
    // Add event listeners to quantity buttons and remove buttons
    const decreaseButtons = document.querySelectorAll('.decrease-qty');
    const increaseButtons = document.querySelectorAll('.increase-qty');
    const quantityInputs = document.querySelectorAll('.item-quantity input');
    const removeButtons = document.querySelectorAll('.remove-item');
    
    decreaseButtons.forEach(button => {
        button.addEventListener('click', function() {
            const index = parseInt(this.dataset.index);
            if (cart[index].quantity > 1) {
                cart[index].quantity--;
                localStorage.setItem('cart', JSON.stringify(cart));
                loadCartSummary(); // Reload cart summary with updated quantities
            }
        });
    });
    
    increaseButtons.forEach(button => {
        button.addEventListener('click', function() {
            const index = parseInt(this.dataset.index);
            if (cart[index].quantity < 99) {
                cart[index].quantity++;
                localStorage.setItem('cart', JSON.stringify(cart));
                loadCartSummary(); // Reload cart summary with updated quantities
            }
        });
    });
    
    quantityInputs.forEach(input => {
        input.addEventListener('change', function() {
            const index = parseInt(this.dataset.index);
            let value = parseInt(this.value);
            
            // Ensure value is within valid range
            if (isNaN(value) || value < 1) value = 1;
            if (value > 99) value = 99;
            
            cart[index].quantity = value;
            localStorage.setItem('cart', JSON.stringify(cart));
            loadCartSummary(); // Reload cart summary with updated quantities
        });
    });
    
    removeButtons.forEach(button => {
        button.addEventListener('click', function() {
            const index = parseInt(this.dataset.index);
            
            // Add a fade-out animation before removing
            const item = this.closest('.summary-item');
            item.style.opacity = '0';
            item.style.transform = 'translateX(20px)';
            
            setTimeout(() => {
                cart.splice(index, 1);
                localStorage.setItem('cart', JSON.stringify(cart));
                loadCartSummary(); // Reload cart summary with updated cart
            }, 300);
        });
    });
    
    // Refresh AOS for dynamically added elements
    setTimeout(() => {
        AOS.refresh();
    }, 100);
}
        
function updateTotals(subtotal, shipping, tax, total) {
    const animateElement = (element, newValue) => {
        element.classList.add('updating');
        setTimeout(() => {
            element.textContent = newValue;
            element.classList.remove('updating');
        }, 150);
    };
    
    const subtotalElement = document.getElementById('subtotal-amount');
    const shippingElement = document.getElementById('shipping-amount');
    const taxElement = document.getElementById('tax-amount');
    const totalElement = document.getElementById('total-amount');
    
    animateElement(subtotalElement, `$${subtotal.toFixed(2)}`);
    animateElement(shippingElement, shipping === 0 ? 'FREE' : `$${shipping.toFixed(2)}`);
    animateElement(taxElement, `$${tax.toFixed(2)}`);
    animateElement(totalElement, `$${total.toFixed(2)}`);
    
    // Add a class to highlight free shipping if applicable
    if (shipping === 0 && subtotal > 0) {
        shippingElement.classList.add('free-shipping');
    } else {
        shippingElement.classList.remove('free-shipping');
    }
}
    </script>
</body>
</html>
</body>
</html>